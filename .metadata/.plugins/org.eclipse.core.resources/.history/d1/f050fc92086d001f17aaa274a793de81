package algorithm.quiz.ch06;

import java.util.Arrays;

// 삽입정렬에 이진검색 도입 (이미 정렬된 부분에 사용)
public class Q9 {
	static int binarySearch(int[] a, int from, int to, int key) {
		int pl = from;
		int pr = to;
		while(pr >= pl) {
			int pc = (pl + pr) / 2;
			if (a[pc] > key) {
				pr = pc - 1;
			} else if (a[pc] < key) {
				pl = pc + 1;
			} else {
				return pc;
			}
		}
		
		return -(pl + 1); // -(추정인덱스 + 1)
		
		
	}
	
	static int binarySearch(int[] a, int n, int key) {
		return binarySearch(a, 0, n, key);
	}
	
	static void insertionSort(int[] a) {
		int n = a.length;
		if (a[0] > a[1]) {
			int temp = a[0];
			a[1] = a[2];
			a[2] = temp;
		}
			
		for (int i = 1; i < n; i++) { // 비교할 대상
			System.out.println(Arrays.toString(a));
			int temp = a[i];
			int j;
			int idx = -binarySearch(a, i - 1, temp) - 1;
				for (j = i; j > idx; j--) {
					System.out.println("j : " + j + ", j - 1 : " + (j - 1) + ", idx : " + idx);
					a[j] = a[j - 1];
			}
			a[idx] = temp;
		}
	}
	
	public static void main(String[] args) {
		int[] x = {6, 4, 8, 5, 2, 9, 7};
		System.out.println(Arrays.toString(x));
		insertionSort(x);
		System.out.println(Arrays.toString(x));
	}
}
